<!DOCTYPE html>   
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WIG U≈ÅA≈ÉSKA - Next Gen</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script type="module" src="script.js"></script>
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://www.youtube.com/iframe_api"></script> 
</head>
<body>

    <div id="splash-screen">
        <h1 id="splash-title">WIG U≈ÅA≈ÉSKA <span style="font-size:0.5em; color:var(--accent-color)">2.0</span></h1>
    </div>

    <div id="auth-container">
        <div class="glass-panel auth-panel" id="login-panel">
            <h2 class="auth-header">Witaj Inwestorze</h2>
            <form id="login-form">
                <div class="input-group">
                    <i class="fa-solid fa-envelope"></i>
                    <input type="email" id="login-email" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <i class="fa-solid fa-lock"></i>
                    <input type="password" id="login-password" placeholder="Has≈Ço" required>
                </div>
                <button type="submit" class="btn-primary">Zaloguj siƒô</button>
            </form>
            <div class="auth-footer">
                <a href="#" id="reset-password-link">Zapomnia≈Çe≈õ has≈Ça?</a>
                <p>Nie masz konta? <a href="#" id="show-register-link">Za≈Ç√≥≈º je teraz</a></p>
            </div>
        </div>

        <div class="glass-panel auth-panel" id="register-panel">
            <h2 class="auth-header">Rejestracja (Bonus 1000 z≈Ç)</h2>
            <form id="register-form">
                <div class="input-group">
                    <i class="fa-solid fa-user"></i>
                    <input type="text" id="register-name" placeholder="Twoja nazwa" required>
                </div>
                <div class="input-group">
                    <i class="fa-solid fa-envelope"></i>
                    <input type="email" id="register-email" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <i class="fa-solid fa-lock"></i>
                    <input type="password" id="register-password" placeholder="Has≈Ço (min. 6 znak√≥w)" minlength="6" required>
                </div>
                <button type="submit" class="btn-primary">Do≈ÇƒÖcz do gry</button>
            </form>
            <div class="auth-footer">
                <p>Masz ju≈º konto? <a href="#" id="show-login-link">Zaloguj siƒô</a></p>
            </div>
        </div>
        <p id="auth-message"></p>
    </div>

    <div id="simulator-container" class="hidden">
        
        <header class="main-header">
            <div class="logo-area">
                <h1>WIG U≈ÅA≈ÉSKA</h1>
            </div>
            
            <div class="top-controls">
                <div id="user-info" class="user-badge" onclick="showUserProfile(currentUserId)">
                    <i class="fa-solid fa-user-astronaut"></i>
                    <span id="username">≈Åadowanie...</span>
                </div>
                <div id="theme-switcher">
                    <select id="theme-select">
                        <option value="dark">Dark</option>
                        <option value="light">Light</option>
                        <option value="dim">Dim</option>
                    </select>
                </div>
                <button id="logout-button"><i class="fa-solid fa-power-off"></i></button>
            </div>
        </header>

        <div class="ticker-wrap">
            <div id="ticker-content">
                <span>≈Åadowanie rynku...</span>
            </div>
        </div>

        <nav class="main-nav">
            <button class="nav-btn active" data-view="market">
                <i class="fa-solid fa-chart-line"></i> GIE≈ÅDA
            </button>
            <button class="nav-btn" data-view="entertainment">
                <i class="fa-solid fa-dice"></i> STREF ROZRYWKI
            </button>
            <button class="nav-btn" data-view="info">
                <i class="fa-solid fa-circle-info"></i> INFO & ZASADY
            </button>
        </nav>

        <div id="view-market" class="view-section active">
            <div class="dashboard-grid">
                
                <div class="main-column">
                    <div id="market-panel" class="glass-panel">
                        <div class="market-header">
                            <div class="market-type-selector">
                                <button class="market-type-tab active" data-market-type="stocks">Akcje</button>
                                <button class="market-type-tab" data-market-type="crypto">Krypto</button>
                            </div>
                            <div class="price-big">
                                <span id="company-name">U≈Ça≈Ñska Dev</span>
                                <strong id="stock-price">--.-- z≈Ç</strong>
                            </div>
                        </div>

                        <div id="company-selector" class="chip-container">
                            <button class="company-tab active" data-company="ulanska">U≈Ça≈Ñska Dev</button>
                            <button class="company-tab" data-company="rychbud">RychBud</button>
                            <button class="company-tab" data-company="brzozair">BrzozAir</button>
                            <button class="company-tab" data-company="cosmosanit">Cosmosanit</button>
                        </div>
                        <div id="crypto-selector" class="chip-container hidden">
                            <button class="company-tab" data-company="nicorp">Nicorp</button> <button class="company-tab" data-company="igirium">Igirium</button>
                        </div>

                        <div id="chart-container"></div>
                    </div>

                    <div id="order-panel" class="glass-panel">
                        <div class="panel-head">
                            <h3><i class="fa-solid fa-money-bill-transfer"></i> Panel Transakcyjny</h3>
                        </div>
                        
                        <div class="crypto-gate-message">
                            <h3><i class="fa-solid fa-lock"></i> Handel Zablokowany</h3>
                            <p>Wymagany Presti≈º 3 (‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è).</p>
                        </div>

                        <div class="order-tabs">
                            <button class="order-tab-btn active" data-order-type="market">Szybkie</button>
                            <button class="order-tab-btn" data-order-type="limit">Limit</button>
                        </div>

                        <div id="order-market-container" class="order-container active">
                            <div class="input-row">
                                <input type="number" id="amount-input" placeholder="Ilo≈õƒá" min="1">
                                <div class="max-btns">
                                    <button type="button" id="buy-max-button">MAX KUP</button>
                                    <button type="button" id="sell-max-button">MAX SPRZ</button>
                                </div>
                            </div>
                            <div class="action-buttons">
                                <button id="buy-button" class="btn-buy">KUP</button>
                                <button id="sell-button" class="btn-sell">SPRZEDAJ</button>
                            </div>
                        </div>

                        <div id="order-limit-container" class="order-container">
                            <form id="limit-order-form">
                                <div class="input-row">
                                    <select id="limit-type">
                                        <option value="buy">Kupno</option>
                                        <option value="sell">Sprzeda≈º</option>
                                    </select>
                                    <input type="number" id="limit-amount" placeholder="Ilo≈õƒá" required>
                                </div>
                                <input type="number" id="limit-price" placeholder="Cena docelowa (z≈Ç)" step="0.01" required>
                                <button type="submit" id="limit-order-button" class="btn-accent">Z≈Ç√≥≈º Zlecenie</button>
                            </form>
                        </div>
                        <p id="message-box"></p>
                    </div>
                    
                    <section id="rumors-panel" class="glass-panel">
                        <div class="panel-head">
                            <h3><i class="fa-solid fa-newspaper"></i> Rynek & Plotki</h3>
                        </div>
                        <div id="news-feed" class="feed-box small-feed"></div>
                        
                        <div class="rumor-creator">
                            <form id="rumor-form">
                                <input type="text" id="rumor-input" placeholder="Puu≈õƒá plotkƒô..." required>
                                <div class="rumor-opts">
                                    <select id="rumor-company-select">
                                        <option value="ulanska">U≈Ça≈Ñska</option>
                                        <option value="rychbud">Rychbud</option>
                                        <option value="brzozair">BrzozAir</option>
                                        <option value="cosmosanit">Cosmo</option>
                                        <option value="nicorp">Nicorp</option> <option value="igirium">Igirium</option>
                                    </select>
                                    <div class="radios">
                                        <label><input type="radio" name="sentiment" value="positive" checked> <i class="fa-solid fa-arrow-trend-up"></i></label>
                                        <label><input type="radio" name="sentiment" value="negative"> <i class="fa-solid fa-arrow-trend-down"></i></label>
                                    </div>
                                    <button type="submit"><i class="fa-solid fa-paper-plane"></i></button>
                                </div>
                            </form>
                            <button id="buy-tip-button" class="btn-full-width mt-10">Kup Insider Info (<span id="tip-cost">1500</span> z≈Ç)</button>
                        </div>
                        <div id="rumors-feed" class="feed-box small-feed mt-10"></div>
                    </section>
                </div>

                <div class="side-column">
                    <aside id="portfolio-panel" class="glass-panel featured-panel">
                        <div class="panel-head">
                            <h2>Tw√≥j Portfel</h2>
                        </div>
                        <div class="wallet-summary">
                            <div class="wallet-item">
                                <span class="label">Got√≥wka</span>
                                <span class="value" id="cash">0.00 z≈Ç</span>
                            </div>
                            <div class="wallet-item">
                                <span class="label">Warto≈õƒá</span>
                                <span class="value accent" id="total-value">0.00 z≈Ç</span>
                            </div>
                            <div class="wallet-item">
                                <span class="label">Zysk</span>
                                <span class="value" id="total-profit">0.00 z≈Ç</span>
                            </div>
                        </div>
                        <div id="portfolio-chart-container"></div>
                        <div id="shares-list" class="assets-list"></div>
                    </aside>

                    <section id="leaderboard-panel" class="glass-panel">
                        <div class="panel-head">
                            <h2><i class="fa-solid fa-trophy"></i> TOP 10 Graczy</h2>
                        </div>
                        <ol id="leaderboard-list"></ol>
                    </section>
                    
                    <section id="history-tabs-panel" class="glass-panel">
                        <div class="tab-buttons">
                            <button class="tab-btn active" data-tab="global-history">Global</button>
                            <button class="tab-btn" data-tab="personal-history">Moja</button>
                            <button class="tab-btn" data-tab="limit-orders">OczekujƒÖce</button>
                        </div>
                        <div id="tab-global-history" class="tab-content active">
                            <div id="global-history-feed" class="feed-box history-feed"></div>
                        </div>
                        <div id="tab-personal-history" class="tab-content">
                            <div id="personal-history-feed" class="feed-box history-feed"></div>
                        </div>
                        <div id="tab-limit-orders" class="tab-content">
                            <div id="limit-orders-feed" class="feed-box history-feed"></div>
                        </div>
                    </section>
                </div>
            </div>
        </div>

        <div id="view-entertainment" class="view-section">
            
            <div class="entertainment-wallet-bar glass-panel">
                <span>Dostƒôpna got√≥wka: <strong id="entertainment-cash-display" class="cash-highlight">--.-- z≈Ç</strong></span>
            </div>

            <div class="entertainment-grid">
                
                <div class="games-column">
                    
                    <section id="betting-panel" class="glass-panel">
    <div class="panel-head">
        <h2><i class="fa-solid fa-futbol"></i> Bukmacherka</h2>
    </div>
    
    <div id="match-info">
        <p>≈Åadowanie oferty...</p>
    </div>

    <form id="betting-form" class="hidden mt-10" style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px;">
        <h4 style="margin: 0 0 10px 0; color: var(--accent-color);">Twoj typ:</h4>
        
        <select id="bet-team" style="display: none;"></select>
        
        <label for="bet-amount" style="display:block; margin-bottom:5px;">Stawka (z≈Ç):</label>
        <input type="number" id="bet-amount" placeholder="np. 100" min="1" step="0.01" class="full-input" style="width: 100%; margin-bottom: 10px;">
        
        <button type="submit" id="place-bet-button" class="btn-accent" style="width: 100%;">Zatwierd≈∫ Zak≈Çad</button>
    </form>

    <hr style="border-color: rgba(255,255,255,0.1); margin: 20px 0;">
    <h3>Twoje Aktywne Kupony</h3>
    <div id="active-bets-feed" class="feed-box history-feed mt-10">
        <p>...brak aktywnych zak≈Çad√≥w...</p>
    </div>
</section>

                    <section id="casino-panel" class="glass-panel center-content">
                        <h2><i class="fa-solid fa-dharmachakra"></i> Ruletka</h2>
                        <div class="casino-wrapper">
                            <div class="main-roulette">
                                <div class="plate" id="plate">
                                    <ul class="inner">
                                        <li class="number"><label><input type="radio" name="pit" value="0" /><span class="pit">0</span></label></li>
                                        </ul>
                                    <div class="data">
                                        <div class="data-inner">
                                            <div class="mask">Graƒá!</div>
                                            <div class="result">
                                                <div class="result-number">--</div>
                                                <div class="result-color">--</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="casino-controls">
                                <p id="casino-status">Wybierz pole i krƒôƒá!</p>
                                <div class="bet-row">
                                    <input type="number" id="casino-amount" class="dark-input" placeholder="Kwota" value="100">
                                </div>
                                <div class="bet-row">
                                    <button class="casino-btn btn-red" onclick="selectBetType('color', 'red')">üî¥ x2</button>
                                    <button class="casino-btn btn-black" onclick="selectBetType('color', 'black')">‚ö´ x2</button>
                                    <button class="casino-btn btn-green" onclick="selectBetType('color', 'green')">üü¢ x36</button>
                                </div>
                                <div class="bet-numbers-grid">
                                    <button class="num-btn num-0" onclick="selectBetType('number', 0)">0</button>
                                    <script>
                                        const reds = [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36];
                                        for(let i=1; i<=36; i++) {
                                            let c = reds.includes(i) ? 'num-red' : 'num-black';
                                            document.write(`<button class="num-btn ${c}" onclick="selectBetType('number', ${i})">${i}</button>`);
                                        }
                                    </script>
                                </div>
                                <button id="spin-button" class="btn-accent spin-btn" onclick="commitSpin()">ZAKRƒòƒÜ!</button>
                            </div>
                             <div class="previous-results">
                                <ol class="previous-list" id="previous-list"></ol>
                            </div>
                        </div>
                    </section>

                    <section id="pvp-panel" class="glass-panel">
                        <h2><i class="fa-solid fa-khanda"></i> Pojedynki PvP (50/50)</h2>
                        <form id="pvp-create-form" class="mt-10">
                            <div class="input-row">
                                <input type="number" id="pvp-amount" placeholder="Stawka (min. 1000)" class="full-input">
                                <button type="submit" class="btn-accent">Stw√≥rz</button>
                            </div>
                        </form>
                        <div id="pvp-feed" class="feed-box mt-10"></div>
                        <div id="pvp-embedded-roulette" class="hidden">
                             <h3 id="pvp-vs-title" class="pvp-title-embedded">VS</h3>
                             <div class="roulette-window embedded">
                                 <div class="roulette-marker"></div>
                                 <div id="roulette-strip" class="roulette-strip"></div>
                             </div>
                             <h3 id="pvp-roulette-winner" class="pvp-winner-text">...</h3>
                        </div>
                    </section>
                </div>

                <div class="social-column">
                    <section id="chat-panel" class="glass-panel">
                        <div class="panel-head"><h2>Globalny Czat</h2></div>
                        <div id="chat-feed" class="feed-box chat-box"></div>
                        <form id="chat-form">
                            <input type="text" id="chat-input" placeholder="Napisz co≈õ..." required>
                            <button type="submit"><i class="fa-solid fa-paper-plane"></i></button>
                        </form>
                    </section>

                    <section id="radio-panel" class="glass-panel">
                        <h2><i class="fa-solid fa-music"></i> Radio</h2>
                        <div class="video-container">
                            <iframe width="100%" height="200" src="https://www.youtube.com/embed/N2iGDpu-3ZI?si=9cOCpOaC0hfUCehx" frameborder="0" allowfullscreen></iframe>
                        </div>
                    </section>

                    <section id="bonds-panel" class="glass-panel">
                        <h2><i class="fa-solid fa-piggy-bank"></i> Obligacje</h2>
                        <form id="bonds-form">
                             <input type="number" id="bond-amount" placeholder="Kwota" class="full-input mb-5">
                             <select id="bond-type" class="full-input mb-5">
                                <option value="1">1 Dzie≈Ñ (+5%)</option>
                                <option value="2">2 Dni (+10%)</option>
                                <option value="3">3 Dni (+15%)</option>
                            </select>
                            <button type="submit" id="buy-bond-button" class="btn-full-width btn-green">Zainwestuj</button>
                        </form>
                        <div id="active-bonds-feed" class="feed-box history-feed mt-10"></div>
                    </section>
                </div>
            </div>
        </div>

        <div id="view-info" class="view-section">
             <div class="info-grid">
                <section id="tournament-panel" class="glass-panel highlight-panel">
                    <h2><i class="fa-solid fa-calendar-days"></i> Harmonogram</h2>
                     <div class="info-content text-center">
                        <h3>Reset i Sezon 2</h3>
                        <p class="highlight-text">1 grudzie≈Ñ 2025, 10:00</p>
                        <ul class="clean-list">
                            <li>Reset wszystkich statystyk (got√≥wka, akcje).</li>
                            <li>Wprowadzenie nowych sp√≥≈Çek.</li>
                            <li>Zmiany w balansie rynku.</li>
                        </ul>
                    </div>
                     <hr class="glass-hr">
                    <div class="info-content text-center">
                        <h3>Wielki Turniej</h3>
                        <p class="highlight-text">Start: 26.11.2025 15:30</p>
                        <p>Gra: Geoguesr (do ustalenia)</p>
                        <div class="prizes">
                            <span>ü•á 50k</span>
                            <span>ü•à 30k</span>
                            <span>ü•â 20k</span>
                        </div>
                    </div>
                </section>

                <section id="help-panel" class="glass-panel">
                    <h2><i class="fa-solid fa-book-open"></i> Zasady Gry</h2>
                    <div class="info-content">
                        <h3>Mechanika Rynku</h3>
                        <p>Rynek aktualizuje ceny co 30-60 sekund. Ceny reagujƒÖ na plotki (kt√≥re sami tworzycie) oraz losowe wydarzenia.</p>
                        
                        <h3>System Presti≈ºu</h3>
                        <p>Zbieraj majƒÖtek, by odblokowaƒá funkcje. Mo≈ºesz zresetowaƒá konto dla gwiazdki presti≈ºu, kt√≥ra daje zni≈ºki na info.</p>
                        <ul>
                            <li>‚≠êÔ∏è <strong>Poziom 1</strong> (15k) - Zni≈ºka na plotki</li>
                            <li>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è <strong>Poziom 3</strong> (60k) - Odblokowuje handel Krypto (Nicorp, Igirium)</li>
                        </ul>

                        <h3>Nicorp & Igirium (Krypto)</h3>
                        <p>Aktywa o bardzo du≈ºej zmienno≈õci. Dostƒôpne tylko dla do≈õwiadczonych graczy (Presti≈º 3+).</p>
                    </div>
                </section>
             </div>
        </div>

    </div>

    <div id="user-profile-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <button id="modal-close-button" class="modal-close">&times;</button>
            <h2 id="modal-username">Profil</h2>
            <div class="modal-body">
                <div id="modal-portfolio-chart-container"></div>
                <div class="modal-stats-grid">
                    <div class="stat-box"><span>Warto≈õƒá</span><strong id="modal-total-value">...</strong></div>
                    <div class="stat-box"><span>Got√≥wka</span><strong id="modal-cash">...</strong></div>
                    <div class="stat-box"><span>Zysk</span><strong id="modal-total-profit">...</strong></div>
                    <div class="stat-box"><span>Transakcje</span><strong id="modal-total-trades">...</strong></div>
                </div>
                <div class="prestige-section">
                     <p id="prestige-info">Poziom Presti≈ºu: <strong id="modal-prestige-level">0</strong></p>
                     <p id="prestige-next-goal" class="small-text">...</p>
                     <button id="prestige-button" class="btn-accent btn-full-width mt-10" disabled>Awansuj (Reset)</button>
                </div>
                <h3>Posiadane Aktywa</h3>
                <div id="modal-shares-list" class="assets-list compact"></div>
            </div>
        </div>
    </div>

    <div id="notification-container"></div>
    <audio id="audio-kaching" src="kaching.mp3" preload="auto"></audio>
    <audio id="audio-error"src="error.mp3" preload="auto"></audio>
    <audio id="audio-news" src="news_alert.mp3" preload="auto"></audio> 

</body>
</html>
